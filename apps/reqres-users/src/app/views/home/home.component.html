
<button type="button" class="btn btn-primary" id="liveToastBtn">Show live toast</button>

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <img src="..." class="rounded me-2" alt="...">
      <strong class="me-auto">Bootstrap</strong>
      <small>11 mins ago</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      Hello, world! This is a toast message.
    </div>
  </div>
</div>

<div class="container p-md-4">
  @if(usersWithFavoriteData$ | async; as usersState){
    @switch (usersState.status){
      @case (dataStatus.ERROR){
        <div class="alert alert-danger" role="alert">Something went wrong! {{usersState.error}}</div>
      } @case (dataStatus.LOADING){
      <ng-container *ngTemplateOutlet="loading"></ng-container>
      } @case (dataStatus.SUCCESS) {
        <div class="form-check form-switch m-3">
          <input
            class="form-check-input"
            (change)="toggleNewUserInterval($event)"
            type="checkbox"
            id="fetchUserInvervalSwitch"
          />
          <label class="form-check-label" for="fetchUserInvervalSwitch"
            >Retrieve new user per 5 seconds</label
          >
        </div>

        <div class="w-100">
          <ul class="list-group list-group-flush">
            @for (user of usersState.value; track user.id){
              <li class="list-group-item">
                <mytomorrows-user-list-item
                  [user]="user"
                  [isFavorite]="user.isFavorite"
                  (toggleFavorite)="toggleFavorite(user)"
                  (deleteUser)="deleteUser(user)"
                ></mytomorrows-user-list-item>
              </li>
            } @empty {
              <li class="list-group-item">There are no users!</li>
            }
          </ul>
        </div>
      }
    }
  }
</div>


<ng-template #loading>
  <div class="d-flex justify-content-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</ng-template>


